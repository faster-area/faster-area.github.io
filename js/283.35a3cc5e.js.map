{"version":3,"file":"js/283.35a3cc5e.js","mappings":"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","sources":["webpack://Area/./node_modules/email-validator/index.js","webpack://Area/./src/views/reactions/SendGmailView.vue","webpack://Area/./src/views/reactions/SendGmailView.vue?6670"],"sourcesContent":["\"use strict\";\r\n\r\nvar tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\r\n// Thanks to:\r\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\r\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\r\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\r\nexports.validate = function(email)\r\n{\r\n\tif (!email)\r\n\t\treturn false;\r\n\t\t\r\n\tif(email.length>254)\r\n\t\treturn false;\r\n\r\n\tvar valid = tester.test(email);\r\n\tif(!valid)\r\n\t\treturn false;\r\n\r\n\t// Further checking of some things regex can't handle\r\n\tvar parts = email.split(\"@\");\r\n\tif(parts[0].length>64)\r\n\t\treturn false;\r\n\r\n\tvar domainParts = parts[1].split(\".\");\r\n\tif(domainParts.some(function(part) { return part.length>63; }))\r\n\t\treturn false;\r\n\r\n\treturn true;\r\n}","<template>\n    <h1>Send an Email</h1>\n    <input type=\"email\" placeholder=\"To:\" v-model=\"email\"/>\n    <br />\n    <br />\n    <br />\n    <input type=\"text\" placeholder=\"Subject:\" v-model=\"subject\"/>\n    <br />\n    <br />\n    <br />\n    <input type=\"text\" placeholder=\"Body:\" v-model=\"body\"/>\n    <br />\n    <br />\n    <br />\n    <br />\n    <button v-on:click=\"getMail()\">Confirm</button>\n</template>\n\n<script>\nvar validator = require(\"email-validator\");\n\nexport default {\n    name: \"MailREA\",\n    data() {\n        return {\n            email: null,\n            subject: null,  \n            body: null,\n        }\n    },\n    methods: {\n        getMail() {\n            if (this.email != null) {\n                if (validator.validate(this.email)) {\n                    let tmpREA = []\n                    let tmpNREA = []\n                    let R = {\n                        \"to\": this.email,\n                        \"subject\": this.subject,\n                        \"text\": this.body\n                    }\n                    let REA = {\n                        \"content\": JSON.stringify(R),\n                        \"id\": \"6343d4cd453ec1ce28ef2b65\",\n                    }\n                    let nameRea = {\n                        \"name\": \"Gmail\",\n                        \"description\": \"Send an email\"\n                    }\n                    if (localStorage.reaction)\n                    tmpREA = JSON.parse(localStorage.reaction)\n                    if (localStorage.namerea)\n                        tmpNREA = JSON.parse(localStorage.namerea)\n                    tmpREA.push(REA)\n                    tmpNREA.push(nameRea)\n                    localStorage.reaction = JSON.stringify(tmpREA)\n                    localStorage.namerea = JSON.stringify(tmpNREA)\n                    var myHeaders = new Headers();\n                    myHeaders.append(\"token\", localStorage.token);\n                    var requestOptions = {\n                      method: 'GET',\n                      headers: myHeaders,\n                      redirect: 'follow'\n                    };\n                    fetch(localStorage.server + \"/user/gmail/verify\", requestOptions)\n                        .then(res => {\n                            res.json().then((ans) => {\n                                if (ans[\"status\"] == \"ok\") {\n                                  this.$router.push({ name: 'Recap' });\n                                }\n                                else {\n                                  localStorage.path = 'Recap';\n                                \n                                  var requestOptions = {\n                                    method: 'GET',\n                                    headers: myHeaders,\n                                    redirect: 'follow'\n                                  };\n                              \n                                  fetch(localStorage.server + \"/user/gmail/getLink/?scope=https://www.googleapis.com/auth/gmail.send\", requestOptions)\n                                    .then(rep => {\n                                        if (rep.status === 200) {\n                                            rep.text().then((ans) => {\n                                                window.location.href = ans;\n                                            })\n                                        }\n                                    })\n                                    .catch(error => console.log('error', error));\n                                }\n                            })\n                        })\n                      .catch(error => console.log('error', error));\n                } else {\n                    alert(\"Email is not valid\")\n                }\n            } else {\n                alert('Email required')\n            }\n        },\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n    h1 {\n      color: #47B5FF;\n    }\n</style>\n\n<style lang=\"scss\" scoped>\ninput {\n    margin-left: auto;\n    margin-right: auto;\n    border: 3em;\n    border-radius: 3em;\n    width: 25em;\n    height: 3em;\n    font-size: medium;\n    text-align: center;\n}\n\nh1 {\n    color: #47B5FF;\n    font-size: 5em;\n}\n\nbutton {\n    background-color: #256D85;\n    border: 1px solid #256D85;\n    border-radius: 4px;\n    box-shadow: rgba(0, 0, 0, .1) 0 2px 4px 0;\n    box-sizing: border-box;\n    color: #DFF6FF;\n    cursor: pointer;\n    font-family: \"Akzidenz Grotesk BQ Medium\", -apple-system, BlinkMacSystemFont, sans-serif;\n    font-size: 16px;\n    font-weight: 400;\n    outline: none;\n    outline: 0;\n    padding: 10px 25px;\n    text-align: center;\n    transform: translateY(0);\n    transition: transform 150ms, box-shadow 150ms;\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n}\n</style>","import { render } from \"./SendGmailView.vue?vue&type=template&id=43636a1d&scoped=true\"\nimport script from \"./SendGmailView.vue?vue&type=script&lang=js\"\nexport * from \"./SendGmailView.vue?vue&type=script&lang=js\"\n\nimport \"./SendGmailView.vue?vue&type=style&index=0&id=43636a1d&lang=scss&scoped=true\"\nimport \"./SendGmailView.vue?vue&type=style&index=1&id=43636a1d&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/faster/Projects/tek3/B-DEV-500-LIL-5-1-area-clement.de-laage-de-meux/web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43636a1d\"]])\n\nexport default __exports__"],"names":["tester","exports","validate","email","length","valid","test","parts","split","domainParts","some","part","_createElementVNode","_hoisted_1","type","placeholder","$data","$event","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","onClick","$options","validator","require","name","data","subject","body","methods","getMail","this","tmpREA","tmpNREA","R","REA","JSON","stringify","nameRea","localStorage","reaction","parse","namerea","push","myHeaders","Headers","append","token","requestOptions","method","headers","redirect","fetch","server","then","res","json","ans","$router","path","rep","status","text","window","location","href","catch","error","console","log","alert","__exports__","render"],"sourceRoot":""}